"use strict";(self.webpackChunkredturtle_tiles_management=self.webpackChunkredturtle_tiles_management||[]).push([[4470],{11191:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(18872),a=n.n(o),i=n(52228),r=n(7424);const s={getOptions(e,t,n){n=n||{},0===e.length||a().nodeName(e[0],"body")||(n=this.getOptions(e.parent(),t,n));let o={};if(0!==e.length&&(o=e.data("pat-"+t),o&&"string"==typeof o)){const e={};a().each(o.split(";"),(function(t,n){(n=n.split(":")).reverse();let o=n.pop();o=o.replace(/^\s+|\s+$/g,""),n.reverse();let a=n.join(":");a=a.replace(/^\s+|\s+$/g,""),e[o]=a})),o=e}return a().extend(!0,{},n,o)}},l=r.Z.getLogger("Patternslib Base"),d=function(e,t,n){e.jquery||(e=a()(e));const o=this.prototype.name,l=r.Z.getLogger(`pat.${o}`);let d=e.data(`pattern-${o}`);if(void 0===d&&i.Z.patterns[o])try{e.data(`pattern-${o}`,"initializing"),t="mockup"===this.prototype.parser?s.getOptions(e,o,t):t,d=new i.Z.patterns[o](e,t,n)}catch(e){l.error(`Failed while initializing ${o} pattern.`,e)}return d},c=async function(e,t,n){e?.jquery&&0===e.length||!e?l.warn("No element given to pattern."):(e.jquery||(e=a()(e)),this.$el=e,this.el=e[0],this.options=a().extend(!0,{},this.defaults||{},t||{}),await this.init(e,t,n),this.$el.data(`pattern-${this.name}`,this),this.el[`pattern-${this.name}`]=this,this.emit("init"))};c.prototype={constructor:c,on(e,t){this.$el.on(`${e}.${this.name}.patterns`,t)},one(e,t){this.$el.one(`${e}.${this.name}.patterns`,t)},emit(e,t){void 0===t&&(t=[]),this.$el.trigger(`${e}.${this.name}.patterns`,t)}},c.extend=function(e){const t=this;let n;if(!e)throw new Error("Pattern configuration properties required when calling Base.extend");n=Object.hasOwnProperty.call(e,"constructor")?e.constructor:function(){t.apply(this,arguments)},n.extend=c.extend,n.init=d,n.jquery_plugin=!0,n.trigger=e.trigger,n.parser=e?.parser||null;var o=function(){this.constructor=n};return o.prototype=t.prototype,n.prototype=new o,a().extend(!0,n.prototype,e),n.__super__=t.prototype,e.name?e.trigger?!1!==e.autoregister&&i.Z.register(n,e.name):l.warn(`The pattern ${e.name} does not have a trigger attribute, it will not be registered.`):l.warn("This pattern without a name attribute will not be registered!"),n};const p=c},7424:(e,t,n)=>{var o,a;n.d(t,{Z:()=>p}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,o=function(){},a=function(){return n.apply(this instanceof o&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,a.prototype=new o,a});var i={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function r(){}function s(e,t){this._loggers={},this.name=e||"",this._parent=t||null,t||(this._enabled=!0,this._level=i.WARN)}function l(e){a=e}r.prototype={output:function(e,t,n){e&&n.unshift(e+":"),t<=i.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):t<=i.INFO?console.info.apply(console,n):t<=i.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},s.prototype={getLogger:function(e){for(var t=e.split("."),n=this,o=this.name?[this.name]:[];t.length;){var a=t.shift();o.push(a),a in n._loggers||(n._loggers[a]=new s(o.join("."),n)),n=n._loggers[a]}return n},_getFlag:function(e){var t=this;for(e="_"+e;null!==t;){if(void 0!==t[e])return t[e];t=t._parent}return null},setEnabled:function(e){this._enabled=!!e},isEnabled:function(){this._getFlag("enabled")},setLevel:function(e){"number"==typeof e?this._level=e:"string"==typeof e&&(e=e.toUpperCase())in i&&(this._level=i[e])},getLevel:function(){return this._getFlag("level")},log:function(e,t){!t.length||!this._getFlag("enabled")||e<this._getFlag("level")||(t=Array.prototype.slice.call(t),a.output(this.name,e,t))},debug:function(){this.log(i.DEBUG,arguments)},info:function(){this.log(i.INFO,arguments)},warn:function(){this.log(i.WARN,arguments)},error:function(){this.log(i.ERROR,arguments)},fatal:function(){this.log(i.FATAL,arguments)}},l(new r),o=new s;for(var d,c=/loglevel(|-[^=]+)=([^&]+)/g;null!==(d=c.exec(window.location.search));)(""===d[1]?o:o.getLogger(d[1].slice(1))).setLevel(d[2].toUpperCase());const p={Level:i,getLogger:o.getLogger.bind(o),setEnabled:o.setEnabled.bind(o),isEnabled:o.isEnabled.bind(o),setLevel:o.setLevel.bind(o),getLevel:o.getLevel.bind(o),debug:o.debug.bind(o),info:o.info.bind(o),warn:o.warn.bind(o),error:o.error.bind(o),fatal:o.fatal.bind(o),getWriter:function(){return a},setWriter:l}},52228:(e,t,n)=>{n.d(t,{Z:()=>N});var o=n(18872),a=n.n(o);const i={},r=(e,t)=>{if(!e?.removeEventListener)return;const n=i[e];if(!n)return;let o;if(t){const e=n[t];o=e?[e]:[]}else o=Object.entries(n);for(const t of o||[])e.removeEventListener(t[0],t[1],t[2])},s={add_event_listener:(e,t,n,o,a={})=>{e?.addEventListener&&(r(e,n),i[e]||(i[e]={}),i[e][n]=[t,o,a.capture?a:void 0],e.addEventListener(t,o,a))},remove_event_listener:r,await_event:(e,t)=>new Promise((n=>e.addEventListener(t,n,{once:!0}))),await_pattern_init:e=>new Promise((t=>e.one("init",t))),blur_event:()=>new Event("blur",{bubbles:!1,cancelable:!1}),click_event:()=>new Event("click",{bubbles:!0,cancelable:!0}),change_event:()=>new Event("change",{bubbles:!0,cancelable:!1}),focus_event:()=>new Event("focus",{bubbles:!1,cancelable:!1}),input_event:()=>new Event("input",{bubbles:!0,cancelable:!1}),mousedown_event:()=>new Event("mousedown",{bubbles:!0,cancelable:!0}),mouseup_event:()=>new Event("mouseup",{bubbles:!0,cancelable:!0}),scroll_event:()=>new Event("scroll",{bubbles:!0,cancelable:!1}),submit_event:()=>new Event("submit",{bubbles:!0,cancelable:!0})},l="__patternslib__data_prefix__",d="__patternslib__style__display";function c(e,t,n=!1,o=!1){let a=window.getComputedStyle(e).getPropertyValue(t);return(n||o)&&(a=parseFloat(a)||0),n&&!o&&(a=parseInt(Math.round(a),10)),a}const p={toNodeArray:e=>(e.jquery||e instanceof NodeList?e=[...e]:e instanceof Array==0&&(e=[e]),e),querySelectorAllAndMe:(e,t)=>{if(!e)return[];const n=[...e.querySelectorAll(t)];return e.matches(t)&&n.unshift(e),n},wrap:(e,t)=>{e.parentNode.insertBefore(t,e),t.appendChild(e)},hide:e=>{"none"!==e.style.display&&(e.style.display&&(e[d]=e.style.display),e.style.display="none")},show:e=>{const t=e[d]||null;e.style.display=t,delete e[d]},find_parents:(e,t)=>{const n=[];let o=e;for(;o;)o=o.parentNode?.closest?.(t),o&&n.push(o);return n},find_scoped:(e,t)=>(0===t.indexOf("#")?document:e).querySelectorAll(t),get_parents:e=>{const t=[];let n=e?.parentNode;for(;n;)t.push(n),n=n?.parentNode,n=n instanceof HTMLElement?n:null;return t},acquire_attribute:(e,t,n=!1,o=!1)=>{let a=e;const i=[];for(;a;){const e=a.getAttribute(t);if(e||n&&""===e){if(!o)return e;i.push(e)}a=a.parentElement}if(o)return i},is_visible:e=>e.offsetWidth>0&&e.offsetHeight>0,create_from_string:e=>document.createRange().createContextualFragment(e.trim()),get_css_value:c,find_scroll_container:(e,t,n=document.body)=>{for(;e&&e!==document.body;){if(!t||"y"===t){let t=c(e,"overflow-y");if(["auto","scroll"].includes(t))return e}if(!t||"x"===t){let t=c(e,"overflow-x");if(["auto","scroll"].includes(t))return e}e=e.parentElement}return n},get_data:(e,t,n)=>e[`${l}${t}`]||n,set_data:(e,t,n)=>{e[`${l}${t}`]=n},delete_data:(e,t)=>{delete e[`${l}${t}`]},template:(e,t={})=>new Function("return `"+e+"`;").call(t),add_event_listener:s.add_event_listener,remove_event_listener:s.remove_event_listener};var u=n(7424);a().fn.safeClone=function(){var e=this.clone();return window.document.documentMode&&e.findInclusive(":input[placeholder]").each((function(e,t){var n=a()(t);n.attr("placeholder")===n.val()&&n.val("")})),e},Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,o;if(null===this)throw new TypeError(" this is null or not defined");var a=Object(this),i=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),o=0;o<i;){var r;o in a&&(r=a[o],e.call(n,r,o,a)),o++}});var m=function(e,t,n){return this.each((function(){var o,i=a()(this);if(o=e.init(i,n),t){if(void 0===o[t])return a().error("Method "+t+" does not exist on jQuery."+e.name),!1;if("_"===t.charAt(0))return a().error("Method "+t+" is private on jQuery."+e.name),!1;o[t].apply(o,[n])}})),this},f=function(e,t,n){var o=this;if(t){if(e[t])return e[t].apply(o,[o].concat([n]));a().error("Method "+t+" does not exist on jQuery."+e.name)}else e.init.apply(o,[o].concat([n]));return o};function h(e){var t=typeof e;return"function"===t||"object"===t&&!!e}var g={jqueryPlugin:function(e){return function(t,n){return 0===this.length?this:("object"==typeof t&&(n=t,t=void 0),"function"==typeof e?m.call(this,e,t,n):f.call(this,e,t,n))}},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:h,extend:function(e){if(!h(e))return e;for(var t,n,o=1,a=arguments.length;o<a;o++)for(n in t=arguments[o])hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},findLabel:function(e){for(var t,n=e.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return e.id&&(t=a()('label[for="'+e.id+'"]')),t&&0===t.length&&e.form&&(t=a()('label[for="'+e.name+'"]',e.form)),t&&t.length?t[0]:null},elementInViewport:function(e){var t=e.getBoundingClientRect(),n=document.documentElement,o=window.innerWidth||n.clientWidth,a=window.innerHeight||n.clientHeight;return!(t.right<0||t.bottom<0||t.left>o||t.top>a)},removeWildcardClass:function(e,t){if(e=g.ensureArray(e),-1===t.indexOf("*"))for(const n of e)n.classList.remove(t);else{let n=t.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");n=n.replace(/[*]/g,".*"),n=new RegExp("^"+n+"$");for(const t of e){const e=(t.getAttribute("class")||"").split(/\s+/);if(!e.length)continue;const o=e.filter((e=>!n.test(e)));o.length?t.setAttribute("class",o.join(" ")):t.removeAttribute("class")}}},hideOrShow:(e,t,n,o)=>{e=p.toNodeArray(e);const i={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}},r="css"===n.transition||"none"===n.transition?null:n.effect.duration,s=e=>{e.classList.remove("in-progress"),e.classList.add(t?"visible":"hidden"),a()(e).trigger("pat-update",{pattern:o,transition:"complete"})};for(const l of e)if(l.classList.remove("visible"),l.classList.remove("hidden"),l.classList.remove("in-progress"),r){const e=i[n.transition];l.classList.add("in-progress"),a()(l).trigger("pat-update",{pattern:o,transition:"start"}),a()(l)[t?e.show:e.hide]({duration:r,easing:n.effect.easing,complete:()=>s(l)})}else"css"!==n.transition&&p[t?"show":"hide"](l),s(l)},addURLQueryParameter:function(e,t,n){var o=new RegExp("(\\?|\\&)"+t+"=.*?(?=(&|$))"),a=e.toString().split("#"),i=a[0],r=a[1],s=i;return s=o.test(i)?i.replace(o,"$1"+t+"="+n):/\?.+$/.test(i)?i+"&"+t+"="+n:i+"?"+t+"="+n,r&&(s+="#"+r),s},removeDuplicateObjects:function(e){const t=function(e,t){return this[e]===t};return e.reduce((function(e,n){let o=!1;for(const a of e)o=Object.keys(a).length===Object.keys(n).length&&0===Object.entries(a).filter((e=>!t.bind(n)(e[0],e[1]))).length;return o||e.push(n),e}),[])},mergeStack:function(e,t){const n=[];for(let e=0;e<t;e++)n.push({});for(const o of e){const e=o.length-1;for(let i=0;i<t;i++)n[i]=a().extend(n[i]||{},o[i>e?e:i])}return n},isElementInViewport:function(e,t=!1,n=0){e instanceof a()&&(e=e[0]);const o=e.getBoundingClientRect();return![o.top,o.bottom,o.left,o.right].every((e=>0===e))&&(t?o.top<=0+n&&o.bottom>=0+n:o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth))},hasValue:function(e){return"INPUT"===e.tagName?"checkbox"===e.type||"radio"===e.type?e.checked:""!==e.value:"SELECT"===e.tagName?-1!==e.selectedIndex:"TEXTAREA"===e.tagName&&""!==e.value},parseTime:function(e){var t=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(e);if(!t)throw new Error("Invalid time");var n=parseFloat(t[1]);switch(t[2]){case"s":return Math.round(1e3*n);case"m":return Math.round(1e3*n*60);default:return Math.round(n)}},findRelatives:function(e){var t=a()(e),n=a()(e),o=a()();if(n=(n=n.add(t.closest("label"))).add(t.closest("fieldset")),e.id&&(o=a()("label[for='"+e.id+"']")),!o.length){var i=t.closest("form");i.length||(i=a()(document.body)),o=i.find("label[for='"+e.name+"']")}return n.add(o)},get_bounds:function(e){const t=e.getBoundingClientRect();return{x:parseInt(Math.round(t.x),10)||0,y:parseInt(Math.round(t.y),10)||0,top:parseInt(Math.round(t.top),10)||0,bottom:parseInt(Math.round(t.bottom),10)||0,left:parseInt(Math.round(t.left),10)||0,right:parseInt(Math.round(t.right),10)||0,width:parseInt(Math.round(t.width),10)||0,height:parseInt(Math.round(t.height),10)||0}},checkInputSupport:function(e,t){let n=!1;const o=document.createElement("input");return o.setAttribute("type",e),n=o.type==e,void 0!==t&&(o.setAttribute("value",t),n=o.value!==t),n},checkCSSFeature:(e,t,n="div")=>{let o=void 0!==(n=document.createElement(n)).style[e];return o&&void 0!==t&&(n.style[e]=t,o=n.style[e]===t),o},animation_frame:()=>new Promise(window.requestAnimationFrame),timeout:e=>new Promise((t=>setTimeout(t,e))),debounce:(e,t,n={timer:null})=>function(){clearTimeout(n.timer);const o=arguments;n.timer=setTimeout((()=>e.apply(this,o)),t)},isIE:()=>!!document.documentMode,jqToNode:e=>(e.jquery&&(e=e[0]),e),ensureArray:(e,t)=>NodeList.prototype.isPrototypeOf(e)||Array.isArray(e)||e.jquery?t?[...e]:e:[e],localized_isodate:e=>{const t=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0");return`${e.getFullYear().toString()}-${n}-${t}`},escape_html:e=>{if(!e)return"";const t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML.replace(/"/g,"&quot;")},unescape_html:e=>e?(new DOMParser).parseFromString(e,"text/html").documentElement.textContent.replace(/&quot;/g,'"'):"",is_iso_date_time:(e,t=!1)=>(t?/^\d{4}-[01]\d-[0-3]\d(T[0-2]\d:[0-5]\d)?$/:/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d$/).test(e),is_iso_date:e=>/^\d{4}-[01]\d-[0-3]\d$/.test(e),date_diff:(e,t)=>{const n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),o=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-o)/864e5)},getCSSValue:p.get_css_value};const v=g,b=u.Z.getLogger("registry"),w=/patterns-disable=([^&]+)/g,y=/patterns-dont-catch/g,$={};let _,x=!1;for(;null!==(_=w.exec(window.location.search));)$[_[1]]=!0,b.info("Pattern disabled via url config:",_[1]);for(;null!==(_=y.exec(window.location.search));)x=!0,b.info("I will not catch init exceptions");void 0===window.__patternslib_registry&&(window.__patternslib_registry={});const k=window.__patternslib_registry;void 0===window.__patternslib_registry_initialized&&(window.__patternslib_registry_initialized=!1);const O={patterns:k,init(){a()(document).ready((function(){window.__patternslib_registry_initialized||(window.__patternslib_registry_initialized=!0,b.debug("Loaded: "+Object.keys(O.patterns).sort().join(", ")),O.scan(document.body),b.debug("Finished initial scan."))}))},clear(){for(const e in O.patterns)delete O.patterns[e]},transformPattern(e,t){if($[e])return void b.debug(`Skipping disabled pattern: ${e}.`);const n=O.patterns[e],o=n.transform||n.prototype?.transform;if(o)try{o(a()(t))}catch(t){if(x)throw t;b.error(`Transform error for pattern ${e}.`,t)}},initPattern(e,t,n){const o=a()(t),i=O.patterns[e],r=u.Z.getLogger(`pat.${e}`);if(t.matches(i.trigger)){r.debug("Initialising.",t);try{i.init?i.init(o,null,n):new i(o,null,n),r.debug("done.")}catch(e){if(x)throw e;r.error("Caught error:",e)}}},orderPatterns:e=>(e.includes("validation")&&(e.splice(e.indexOf("validation"),1),e.unshift("validation")),e.includes("clone-code")&&(e.splice(e.indexOf("clone-code"),1),e.unshift("clone-code")),e),scan(e,t,n){if(!e)return;if("string"==typeof e)e=document.querySelector(e);else{if(e instanceof Text)return;e.jquery&&(e=e[0])}const o=[];t=this.orderPatterns(t||Object.keys(O.patterns));for(const n of t){this.transformPattern(n,e);const t=O.patterns[n];t.trigger&&o.unshift(t.trigger)}let a=p.querySelectorAllAndMe(e,o.map((e=>e.trim().replace(/,$/,""))).join(","));a=a.filter((e=>!(e.matches(".disable-patterns")||e?.parentNode?.closest?.(".disable-patterns")||e?.parentNode?.closest?.("pre")||e?.parentNode?.closest?.("template")||e.matches(".cant-touch-this")||e?.parentNode?.closest?.(".cant-touch-this"))));for(const e of a.reverse())for(const o of t)this.initPattern(o,e,n);document.body.classList.add("patterns-loaded")},register(e,t){if(!(t=t||e.name))return b.error("Pattern lacks a name.",e),!1;if(O.patterns[t])return b.debug(`Already have a pattern called ${t}.`),!1;if(O.patterns[t]=e,e.jquery_plugin){const n=("pat-"+t).replace(/-([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}));a().fn[n]=v.jqueryPlugin(e),a().fn[n.replace(/^pat/,"pattern")]=a().fn[n]}return b.debug(`Registered pattern ${t}`,e),window.__patternslib_registry_initialized&&(O.scan(document.body,[t]),b.debug(`Re-scanned dom with newly registered pattern ${t}.`)),!0}},N=O},25219:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(18872),a=n.n(o);const i=function(){var e=this;e.baseUrl=a()("body").attr("data-i18ncatalogurl"),e.currentLanguage=a()("html").attr("lang")||"en",e.currentLanguage.split("-").length>1&&(e.currentLanguage=e.currentLanguage.split("-")[0]+"_"+e.currentLanguage.split("-")[1].toUpperCase()),e.storage=null,e.catalogs={},e.ttl=864e5,Date.now||(Date.now=function(){return(new Date).valueOf()});try{"localStorage"in window&&null!==window.localStorage&&"JSON"in window&&null!==window.JSON&&(e.storage=window.localStorage)}catch(e){}e.configure=function(t){for(var n in t)e[n]=t[n]},e._setCatalog=function(t,n,o){t in e.catalogs||(e.catalogs[t]={}),e.catalogs[t][n]=o},e._storeCatalog=function(t,n,o){var a=t+"-"+n;null!==e.storage&&null!==o&&(e.storage.setItem(a,JSON.stringify(o)),e.storage.setItem(a+"-updated",Date.now()))},e.getUrl=function(t,n){return e.baseUrl+"?domain="+t+"&language="+n},e.loadCatalog=function(t,n){if(void 0===n&&(n=e.currentLanguage),null!==e.storage){var o=t+"-"+n;if(o in e.storage&&Date.now()-parseInt(e.storage.getItem(o+"-updated"),10)<e.ttl){var i=JSON.parse(e.storage.getItem(o));return void e._setCatalog(t,n,i)}}e.baseUrl&&a().getJSON(e.getUrl(t,n),(function(o){null!==o&&(e._setCatalog(t,n,o),e._storeCatalog(t,n,o))}))},e.MessageFactory=function(t,n){return n=n||e.currentLanguage,function(o,a){var i,r,s;if(i=t in e.catalogs&&n in e.catalogs[t]&&o in e.catalogs[t][n]?e.catalogs[t][n][o]:o,a)for(s in a)a.hasOwnProperty(s)&&(r=new RegExp("\\$\\{"+s+"\\}","g"),i=i.replace(r,a[s]));return i}}}},6206:(e,t,n)=>{n.d(t,{Z:()=>f});var o=n(18872),a=n.n(o),i=n(11191),r=n(24481),s=n.n(r);const l=i.Z.extend({name:"backdrop",trigger:".pat-backdrop",parser:"mockup",defaults:{zIndex:null,opacity:.8,className:"plone-backdrop",classActiveName:"plone-backdrop-active",closeOnEsc:!0,closeOnClick:!0},init:function(){var e=this;e.$backdrop=a()("> ."+e.options.className,e.$el),0===e.$backdrop.length&&(e.$backdrop=a()("<div/>").hide().appendTo(e.$el).addClass(e.options.className),null!==e.options.zIndex&&e.$backdrop.css("z-index",e.options.zIndex)),!0===e.options.closeOnEsc&&a()(document).on("keydown",(function(t,n){e.$el.is("."+e.options.classActiveName)&&27===t.keyCode&&e.hide()})),!0===e.options.closeOnClick&&e.$backdrop.on("click",(function(){e.$el.is("."+e.options.classActiveName)&&e.hide()}))},show:function(){var e=this;e.$el.hasClass(e.options.classActiveName)||(e.emit("show"),e.$backdrop.css("opacity","0").show(),e.$el.addClass(e.options.classActiveName),e.$backdrop.animate({opacity:e.options.opacity},500),e.emit("shown"))},hide:function(){var e=this;e.$el.hasClass(e.options.classActiveName)&&(e.emit("hide"),e.$backdrop.animate({opacity:"0"},500).hide(),e.$el.removeClass(e.options.classActiveName),e.emit("hidden"))}});var d=n(52228);n(7424).Z.getLogger("core utils");var c=function(e){var t=this;return t.className="spinner-border",e||(e={}),t.options=a().extend({},{backdrop:null,zIndex:10005},e),t.init=function(){t.$el=a()("."+t.className),0===t.$el.length&&(t.$el=a()("<div><div></div></div>"),t.$el.addClass(t.className).hide().appendTo("body"))},t.show=function(e){t.init(),t.$el.show(),t.$el.css("position","absolute"),t.$el.css("top","50%"),t.$el.css("left","50%");var n=t.options.zIndex;"function"==typeof n?n=Math.max(n(),10005):(n=10005,a()(".modal-wrapper,.-modal-backdrop").each((function(){n=Math.max(n,a()(this).css("zIndex")||10005)})),n+=1),t.$el.css("zIndex",n),void 0===e&&(e=!0),t.options.backdrop&&(t.options.backdrop.closeOnClick=e,t.options.backdrop.closeOnEsc=e,t.options.backdrop.init(),t.options.backdrop.show())},t.hide=function(){t.init(),t.$el.hide()},t};new Map;const p=c,u=(new c,function(e){return a()(/<body[^>]*>[^]*<\/body>/im.exec(e)[0].replace("<body","<div").replace("</body>","</div>")).eq(0).html()});var m=n(25219);n(50834);const f=i.Z.extend({name:"plone-modal",trigger:".pat-plone-modal",parser:"mockup",createModal:null,$model:null,defaults:{width:"",height:"",modalSizeClass:"",margin:0,position:"center middle",triggers:[],zIndexSelector:".modal-wrapper,.modal-backdrop",backdrop:"body",backdropOptions:{zIndex:"1040",opacity:"0.85",className:"modal-backdrop",classActiveName:"backdrop-active",closeOnEsc:!0,closeOnClick:!0},title:null,titleSelector:"h1:first",buttons:'.formControls > input[type="submit"], .formControls > button',content:"#content",automaticallyAddButtonActions:!0,loadLinksWithinModal:!0,prependContent:".portalMessage, #global_statusmessage",onRender:null,templateOptions:{className:"modal fade",classDialog:"modal-dialog",classModal:"modal-content",classHeaderName:"modal-header",classBodyName:"modal-body",classFooterName:"modal-footer",classWrapperName:"modal-wrapper",classWrapperInnerName:"modal-wrapper-inner",classActiveName:"show",classPrependName:"",classContentName:"",template:'<div class="<%= options.className %>">  <div class="<%= options.classDialog %><% if (modalSizeClass) { %> <%= modalSizeClass %><% } %>" role="dialog" <% if (title) { %>aria-labelledby="modal-title" <% } %> tabindex="-1">    <div class="<%= options.classModal %>" role="document">      <div class="<%= options.classHeaderName %>">        <% if (title) { %><h5 class="modal-title" id="modal-title" tabindex="0"><%= title %></h5><% } %>        <button type="button" class="btn-close modal-close" aria-label="Close"></button>      </div>      <div class="<%= options.classBodyName %>">        <div class="<%= options.classPrependName %>"><%= prepend %></div>         <div class="<%= options.classContentName %>"><%= content %></div>      </div>      <div class="<%= options.classFooterName %>">         <% if (buttons) { %><%= buttons %><% } %>      </div>    </div>  </div></div>'},actions:{},actionOptions:{eventType:"click",disableAjaxFormSubmit:!1,target:null,ajaxUrl:null,modalFunction:null,isForm:!1,timeout:5e3,displayInModal:!0,reloadWindowOnClose:!0,error:".portalMessage.error, .alert-danger",formFieldError:".field.error",onSuccess:null,onError:null,onFormError:null,onTimeout:null,redirectOnResponse:!1,redirectToUrl:function(e,t){var n;return(n=/<body.*data-view-url=[\"'](.*)[\"'].*/im.exec(t))&&n.length>1||(n=/<body.*data-base-url=[\"'](.*)[\"'].*/im.exec(t))&&n.length>1?n[1].split('"')[0]:(n=/<base.*href=[\"'](.*)[\"'].*/im.exec(t))&&n.length>1?n[1]:""}},form:function(e){var t=this,n=t.$modal;t.options.automaticallyAddButtonActions&&(e[t.options.buttons]={}),e.a={},a().each(e,(function(e,o){var i=s().union(s().keys(t.options.actionOptions),["templateOptions"]),r=a().extend(!0,{},t.options.actionOptions,s().pick(o,i));o.templateOptions=a().extend(!0,o.templateOptions,t.options.templateOptions);var l=s().union(s().keys(t.options.actionOptions),["actions","actionOptions"]),d=a().extend(!0,s().omit(o,l),t.options);a()(e,a()("."+o.templateOptions.classBodyName,n)).each((function(){var e=a()(this);e.on(r.eventType,(function(n){n.stopPropagation(),n.preventDefault(),t.loading.show(!1),null!==r.modalFunction?t[r.modalFunction]():a().nodeName(e[0],"input")||a().nodeName(e[0],"button")||!0===o.isForm?t.options.handleFormAction.apply(t,[e,r,d]):(null!==o.ajaxUrl||a().nodeName(e[0],"a"))&&t.options.handleLinkAction.apply(t,[e,r,d])}))}))}))},handleFormAction:function(e,t,n){var o,i,r=this,s={};if(s[e.attr("name")]=e.attr("value"),o=a().nodeName(e[0],"form")?e:e.parents("form:not(.disableAutoSubmit)"),i=null!==t.ajaxUrl?"function"==typeof t.ajaxUrl?t.ajaxUrl.apply(r,[e,t]):t.ajaxUrl:e.parents("form").attr("action"),t.disableAjaxFormSubmit)return e.attr("name")&&e.attr("value")&&o.append(a()('<input type="hidden" name="'+e.attr("name")+'" value="'+e.attr("value")+'" />')),void o.trigger("submit");o.on("submit",(function(e){e.preventDefault()})),o.trigger("submit"),r.loading.show(!1),o.ajaxSubmit({timeout:t.timeout,data:s,url:i,error:function(e,n,o){r.loading.hide(),"timeout"===n&&t.onTimeout?t.onTimeout.apply(r,e,o):t.onError?"string"==typeof t.onError?window[t.onError](e,n,o):t.onError(e,n,o):console.log("error happened",n," do something"),r.emit("formActionError",[e,n,o])},success:function(o,i,s,l){r.loading.hide(),0===a()(t.error,o).length&&0===a()(t.formFieldError,o).length?!0!==t.redirectOnResponse?(t.onSuccess&&("string"==typeof t.onSuccess?window[t.onSuccess](r,o,i,s,l):t.onSuccess(r,o,i,s,l)),!0===t.displayInModal?r.redraw(o,n):(e.trigger("destroy.plone-modal.patterns"),t.reloadWindowOnClose&&r.reloadWindow()),r.emit("formActionSuccess",[o,i,s,l])):"function"==typeof t.redirectToUrl?window.parent.location.href=t.redirectToUrl.apply(r,[e,o,t]):window.parent.location.href=t.redirectToUrl:t.onFormError?"string"==typeof t.onFormError?window[t.onFormError](r,o,i,s,l):t.onFormError(r,o,i,s,l):r.redraw(o,n)}})},handleLinkAction:function(e,t,n){var o,i=this;e.hasClass("pat-plone-modal")||(o=t.ajaxUrl?"function"==typeof t.ajaxUrl?t.ajaxUrl.apply(i,[e,t]):t.ajaxUrl:e.attr("href"),!1!==t.displayInModal?a().ajax({url:o}).fail((function(e,n,o){"timeout"===n&&t.onTimeout?t.onTimeout(i.$modal,e,o):t.onError?t.onError(e,n,o):window.alert((0,m.Z)("There was an error loading modal.")),i.emit("linkActionError",[e,n,o])})).done((function(e,o,a){i.redraw(e,n),t.onSuccess&&("string"==typeof t.onSuccess?window[t.onSuccess](i,e,o,a):t.onSuccess(i,e,o,a)),i.emit("linkActionSuccess",[e,o,a])})).always((function(){i.loading.hide()})):"_blank"===e.attr("target")?(window.open(o,"_blank"),i.loading.hide()):window.location=o)},render:function(e){var t=this;if(t.emit("before-render"),t.$raw){var n=t.$raw.clone();a()("input:checked",n).each((function(){this.setAttribute&&this.setAttribute("checked","checked")}));var o={title:"",prepend:"<div />",content:"",modalSizeClass:e.modalSizeClass,buttons:'<div class="pattern-modal-buttons"></div>',options:e.templateOptions};if(null===e.title){var i=a()(e.titleSelector,n);o.title=i.html(),a()(e.titleSelector,n).remove()}else o.title=e.title;e.prependContent&&(o.prepend=a()("<div />").append(a()(e.prependContent,n).clone()).html(),a()(e.prependContent,n).remove()),e.content?o.content=a()(e.content,n).html():o.content=n.html(),t.$modal=a()(s().template(t.options.templateOptions.template)(o)),t.$modalDialog=a()("> ."+t.options.templateOptions.classDialog,t.$modal),t.$modalContent=a()("> ."+t.options.templateOptions.classModal,t.$modalDialog),a()("form",t.$modal).on("keydown",(function(e){13===e.keyCode&&"TEXTAREA"!==e.target.nodeName&&(e.preventDefault(),a()("input[type=submit], button[type=submit], button:not(type)",this).eq(0).trigger("click"))})),a()(e.buttons,t.$modal).each((function(){var e=a()(this);e.on("click",(function(e){e.stopPropagation(),e.preventDefault()})).clone().appendTo(a()(".pattern-modal-buttons",t.$modal)).off("click").on("click",(function(t){t.stopPropagation(),t.preventDefault(),e.trigger("click")})),e.hide()})),t.emit("before-events-setup"),a()(".modal-header > .modal-close, .modal-footer > .pattern-modal-buttons > .modal-close",t.$modal).off("click").on("click",(function(e){e.stopPropagation(),e.preventDefault(),a()(e.target).trigger("destroy.plone-modal.patterns")})),e.form&&e.form.apply(t,[e.actions]),t.$modal.addClass(t.options.templateOptions.className).on("destroy.plone-modal.patterns",(function(e){e.stopPropagation(),t.hide()})).on("resize.plone-modal.patterns",(function(e){e.stopPropagation(),e.preventDefault(),t.positionModal()})).appendTo(t.$wrapperInner),t.options.loadLinksWithinModal&&t.$modal.on("click",(function(e){e.stopPropagation(),a().nodeName(e.target,"a")&&e.preventDefault(),t.$modal.trigger("modal-click")})),t.$modal.data("pattern-"+t.name,t),t.emit("after-render"),e.onRender&&("string"==typeof e.onRender?window[e.onRender](t):e.onRender(t))}}},reloadWindow:function(){window.parent.location.reload()},init:function(){n.e(21101).then(n.bind(n,21101));var e=this;e.options.loadLinksWithinModal=a().parseJSON(e.options.loadLinksWithinModal),!0===e.options.backdropOptions.closeOnEsc&&a()(document).on("keydown",(function(t){e.$el.is("."+e.options.templateOptions.classActiveName)&&27===t.keyCode&&e.hide()})),a()(window.parent).resize((function(){e.positionModal()})),e.options.triggers&&a().each(e.options.triggers,(function(t,n){var o=n.substring(0,n.indexOf(" ")),i=n.substring(n.indexOf(" "),n.length);a()(i||e.$el).on(o,(function(t){t.stopPropagation(),t.preventDefault(),e.show()}))})),e.$el.is("a")&&(e.$el.attr("href")&&!e.options.image&&(!e.options.target&&"#"===e.$el.attr("href").substr(0,1)&&e.$el.attr("href").length>1&&(e.options.target=e.$el.attr("href"),e.options.content=""),e.options.ajaxUrl||"#"===e.$el.attr("href").substr(0,1)||(e.options.ajaxUrl=function(){return e.$el.attr("href")})),e.$el.on("click",(function(t){t.stopPropagation(),t.preventDefault(),e.show()}))),e.initModal()},createAjaxModal:function(){var e=this;e.emit("before-ajax"),e.loading.show();var t=e.options.ajaxUrl;"function"==typeof t&&(t=t.apply(e,[e.options])),e.ajaxXHR=a().ajax({url:t,type:e.options.ajaxType}).done((function(t,n,o){e.ajaxXHR=void 0,e.$raw=a()("<div />").append(a()(u(t))),e.emit("after-ajax",e,n,o),e._show()})).fail((function(t,n,o){var a=e.options.actionOptions;"timeout"===n&&a.onTimeout?a.onTimeout(e.$modal,t,o):a.onError?a.onError(t,n,o):(window.alert((0,m.Z)("There was an error loading modal.")),e.hide()),e.emit("linkActionError",[t,n,o])})).always((function(){e.loading.hide()}))},createTargetModal:function(){var e=this;e.$raw=a()(e.options.target).clone(),e._show()},createBasicModal:function(){var e=this;e.$raw=a()("<div/>").html(e.$el.clone()),e._show()},createHtmlModal:function(){var e=this,t=a()(e.options.html);e.$raw=t,e._show()},createImageModal:function(){var e=this;e.$wrapper.addClass("image-modal");var t=e.$el.attr("href"),n=e.$el.attr("data-modal-srcset")||"",o=a().trim(e.$el.context.innerText)||"Image";e.$raw=a()("<div><h1>"+o+'</h1><div id="content"><div class="modal-image"><img src="'+t+'" srcset="'+n+'" /></div></div></div>'),e._show()},initModal:function(){var e=this;e.options.ajaxUrl?e.createModal=e.createAjaxModal:e.options.target?e.createModal=e.createTargetModal:e.options.html?e.createModal=e.createHtmlModal:e.options.image?e.createModal=e.createImageModal:e.createModal=e.createBasicModal},findPosition:function(e,t,n,o,a,i,r){var s,l,d,c,p={};return c=d=s=d="auto","left"===e?(d=n+"px",o>i&&(d="0px"),p.left=d):"right"===e?(c=n+"px",o>i&&(c="0px"),p.right=c,p.left="auto"):(d=i/2-o/2-n+"px",o>i&&(d="0px"),p.left=d),"top"===t?(s=n+"px",a>r&&(s="0px"),p.top=s):"bottom"===t?(l=n+"px",a>r&&(l="0px"),p.bottom=l,p.top="auto"):(s=r/2-a/2-n+"px",a>r&&(s="0px"),p.top=s),p},modalInitialized:function(){return null!==this.$modal&&void 0!==this.$modal},activateFocusTrap:function(){for(var e=this,t=e.$modal.find("."+e.options.templateOptions.classBodyName).first().find("select, input[type!=hidden], textarea, button, a"),n=e.$modal.find("."+e.options.templateOptions.classFooterName).first().find("select, input[type!=hidden], textarea, button, a"),o=[],i=0;i<t.length;i++)a()(t[i]).is(":visible")&&o.push(t[i]);for(var r=0;r<n.length;r++)a()(n[r]).is(":visible")&&o.push(n[r]);0===o.length&&(o=e.$modal.find(".modal-title"));var s=o[0],l=o[o.length-1],d=e.$modal.find(".modal-close").first();a()(document).on("keydown","."+e.options.templateOptions.classDialog,(function(e){if(9===e.which){e.preventDefault();var t=a()(e.target),n=a().inArray(t[0],o);if(n>=0&&n<o.length){var i=n+(e.shiftKey?-1:1);i<0||i>=o.length?d.focus():o[i].focus()}else e.shiftKey?l.focus():s.focus()}})),!0===e.options.backdropOptions.closeOnClick&&e.$modal.on("click",(function(t){a()(t.target).closest("."+e.options.templateOptions.classModal).length||e.hide()})),e.$modal.find(".modal-title").focus()},positionModal:function(){var e=this;if(!e.modalInitialized())return;e.$modal.removeAttr("style"),e.$wrapper.parent().is("body")&&e.$wrapper.height(a()(window.parent).height());var t="function"==typeof e.options.margin?e.options.margin():e.options.margin;let n={position:"absolute"};"0"!==t&&(n.padding=t),e.$modal.css(n),e.$modalDialog.css({width:e.options.width,height:e.options.height}),e.$modalContent.css({width:e.options.width});var o=e.options.position.split(" "),i=o[0],r=o[1],s=e.$modalDialog.outerWidth(!0),l=e.$modalDialog.outerHeight(!0),d=e.$wrapperInner.width(),c=e.$wrapperInner.height(),p=e.findPosition(i,r,t,s,l,d,c);for(var u in p)e.$modalDialog.css(u,p[u])},render:function(e){var t=this;t.emit("render"),t.options.render.apply(t,[e]),t.emit("rendered")},show:function(){var e=this;e.backdrop=e.createBackdrop(),e.createModal()},createBackdrop:function(){var e=this,t=new l(e.$el.parents(e.options.backdrop),e.options.backdropOptions),n=e.options.backdropOptions.zIndex||1041;return a()(e.options.zIndexSelector).each((function(){n=Math.max(n,parseInt(a()(this).css("zIndex"))+1||1041)})),e.$wrapper=a()("<div/>").hide().css({"z-index":n,"overflow-y":"auto",position:"fixed",height:"100%",width:"100%",bottom:"0",left:"0",right:"0",top:"0"}).addClass(e.options.templateOptions.classWrapperName).insertBefore(t.$backdrop).on("click",(function(n){e.options.backdropOptions.closeOnClick&&(n.stopPropagation(),n.preventDefault(),t.hide())})),t.on("hidden",(function(){void 0!==e.$modal&&e.$modal.hasClass(e.options.templateOptions.classActiveName)&&e.hide()})),e.loading=new p({backdrop:t}),e.$wrapperInner=a()("<div/>").addClass(e.options.classWrapperInnerName).css({position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}).appendTo(e.$wrapper),t},_show:function(){var e=this;e.render.apply(e,[e.options]),e.emit("show"),e.backdrop.show(),e.$wrapper.show(),e.loading.hide(),e.$el.addClass(e.options.templateOptions.classActiveName),e.$modal.addClass(e.options.templateOptions.classActiveName),d.Z.scan(e.$modal),e.positionModal(),a()(window.parent).on("resize.plone-modal.patterns",(function(){e.positionModal()})),a()("body").addClass("modal-open"),e.emit("shown"),e.activateFocusTrap()},hide:function(){var e=this;e.ajaxXHR&&e.ajaxXHR.abort(),e.emit("hide"),e._suppressHide&&!window.confirm(e._suppressHide)||(e.loading.hide(),e.$el.removeClass(e.options.templateOptions.classActiveName),void 0!==e.$modal&&(e.$modal.remove(),e.initModal()),e.$wrapper.remove(),a()(".modal",a()("body")).length<1&&(e._suppressHide=void 0,e.backdrop.hide(),a()("body").removeClass("modal-open"),a()(window.parent).off("resize.plone-modal.patterns")),e.emit("hidden"),e.$el.focus())},redraw:function(e,t){var n=this;n.emit("beforeDraw"),n.$modal.remove(),n.$raw=a()("<div />").append(a()(u(e))),n.render.apply(n,[t||n.options]),n.$modal.addClass(n.options.templateOptions.classActiveName),n.positionModal(),d.Z.scan(n.$modal),n.emit("afterDraw")}})},71015:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(18872),a=n.n(o);const i=n(11191).Z.extend({name:"sortable",trigger:".pat-sortable",parser:"mockup",defaults:{selector:"li",dragClass:"item-dragging",cloneClass:"dragging",drop:void 0},init:async function(){let e=await n.e(37578).then(n.t.bind(n,37578,23));e=e.default,this.sortable=new e(this.$el[0],{animation:150,draggable:this.options.selector,chosenClass:this.options.dragClass,dragClass:this.options.cloneClass,onEnd:function(e){var t=this.options.drop;t&&("string"==typeof t&&(t=window[this.options.drop]),t(a()(e.item),e.newIndex-e.oldIndex))}.bind(this)})},disableSort:function(){this.sortable.option("sort",!1)},enableSort:function(){this.sortable.option("sort",!0)}})}}]);